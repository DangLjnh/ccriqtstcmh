<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="./favicon.png">

  <title>Loading the map...</title>

  <!-- jQuery-->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

  <!-- Leaflet (CSS and JS) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

  <!-- PapaParse -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/js/fontawesome.min.js"></script>

  <!-- leaflet-providers-->
  <script src="https://unpkg.com/leaflet-providers@1.10.2/leaflet-providers.js"></script>

  <!-- Leaflet.awesome-markers v2.0.4, manually updated to svg to allow hex and material icons -->
  <link rel="stylesheet" type="text/css" href="scripts/Leaflet.awesome-markers/dist/leaflet.awesome-markers.css">
  <script type="text/javascript" src="scripts/Leaflet.awesome-markers/dist/leaflet.awesome-markers.js"></script>

  <!-- Leaflet Markercluster -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
  <script type="text/javascript"
    src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>

  <!-- Leaflet Markercluster layer support -->
  <script
    src="https://unpkg.com/leaflet.markercluster.layersupport@2.0.1/dist/leaflet.markercluster.layersupport.js"></script>

  <!-- Leaflet control geocoder -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder@1.13.0/dist/Control.Geocoder.css" />
  <script src="https://unpkg.com/leaflet-control-geocoder@1.13.0/dist/Control.Geocoder.js"></script>

  <!-- Locate Control -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.72.0/L.Control.Locate.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.72.0/L.Control.Locate.min.js"></script>

  <!-- jQuery-CSV -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.11/jquery.csv.min.js"></script>

  <!-- Custom style sheet -->
  <link rel="stylesheet" type="text/css" href="style.css">

  <!-- DataTables -->
  <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css" />

  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="./L.Control.Layers.Tree.css">

  <!--  -->


  <!-- Custom CSS -->
  <style>
    .custom-popup .leaflet-popup-close-button {
      display: none !important;
    }

    .custom-popup .leaflet-popup-content-wrapper,
    .custom-popup .leaflet-popup-tip {
      background: transparent !important;
      box-shadow: none !important;
    }

    .custom-popup .leaflet-popup-content-wrapper {
      text-align: center !important;
      padding: 0 !important;
    }

    .custom-popup .leaflet-popup-content {
      font-size: 15px;
      font-weight: 500;
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body>

  <div class="loader">Loading...</div>
  <div id="map"></div>
  <table id="maptable" class="display"></table>
  <script src="./data/line.js"></script>
  <script src="./data/point.js"></script>
  <script src="./data/polygon.js"></script>
  <script src="./data/nepaldata.js"></script>
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  <script src="./data/usstates.js"></script>
  <script type="text/javascript">
    var map = L.map('map', {
      attributionControl: false,
      zoomControl: false,
      scrollWheelZoom: false,
      tap: false
    }).setView([41.76, -72.69], 11); // default center is overridden by Google Sheet options and points
    // var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    //   attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    // });
    // osm.addTo(map);

    /*===================================================
                          MARKER
    ===================================================*/

    // var singleMarker = L.marker([28.25255, 83.97669]);
    // singleMarker.addTo(map);
    // var popup = singleMarker.bindPopup('This is a popup')
    // popup.addTo(map);

    /*===================================================
                        TILE LAYER
    ===================================================*/

    // var CartoDB_DarkMatter = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
    //   attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
    //   subdomains: 'abcd',
    //   maxZoom: 19
    // });
    // CartoDB_DarkMatter.addTo(map);

    // // Google Map Layer

    // googleStreets = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
    //   maxZoom: 20,
    //   subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
    // });
    // googleStreets.addTo(map);

    // // Satelite Layer
    // googleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
    //   maxZoom: 20,
    //   subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
    // });
    // googleSat.addTo(map);

    // var Stamen_Watercolor = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}', {
    //   attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    //   subdomains: 'abcd',
    //   minZoom: 1,
    //   maxZoom: 16,
    //   ext: 'jpg'
    // });
    // Stamen_Watercolor.addTo(map);


    // /*===================================================
    //                       GEOJSON
    // ===================================================*/

    // var linedata = L.geoJSON(lineJSON).addTo(map);
    // var pointdata = L.geoJSON(pointJSON).addTo(map);
    // var nepalData = L.geoJSON(nepaldataa).addTo(map);
    // var polygondata = L.geoJSON(polygonJSON, {
    //   onEachFeature: function (feature, layer) {
    //     layer.bindPopup('<b>This is a </b>' + feature.properties.name)
    //   },
    //   style: {
    //     fillColor: 'red',
    //     fillOpacity: 1,
    //     color: 'green'
    //   }
    // }).addTo(map);

    // /*===================================================
    //                       LAYER CONTROL
    // ===================================================*/

    // var baseLayers = {
    //   "Satellite": googleSat,
    //   "Google Map": googleStreets,
    //   "Water Color": Stamen_Watercolor,
    //   "OpenStreetMap": osm,
    // };

    // var baseTree = [
    //   {
    //     label: 'OpenStreeMap',
    //     children: [
    //       { label: 'OSM', layer: osm, name: 'OpenStreeMap' },
    //       { label: 'B&W', layer: osmBw, name: 'OpenStreeMap <b>B&W</b>' },
    //       { label: 'OpenTopoMap', layer: otopomap, name: 'Topographic - OSM' },
    //     ]
    //   },
    //   {
    //     label: 'Thunder',
    //     children: [
    //       { label: 'Cycle', layer: cycle },
    //       { label: 'Transport', layer: transport },
    //     ]
    //   },
    // ];

    // var overlays = {
    //   "Marker": singleMarker,
    //   "PointData": pointdata,
    //   "LineData": linedata,
    //   "PolygonData": polygondata
    // };

    // L.control.layers(baseLayers, overlays).addTo(map);

  </script>


  <script type="text/javascript" src="./google-doc-url.js"></script>
  <script type="text/javascript" src="./scripts/constants.js"></script>
  <script type="text/javascript" src="./scripts/palette.js"></script>
  <script type="text/javascript" src="./scripts/polylabel.js"></script>
  <script type="text/javascript" src="./scripts/map.js"></script>
  <script type="text/javascript" src="./L.Control.Layers.Tree.js"></script>

</body>

</html>